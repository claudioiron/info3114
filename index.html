<html>
    <head>
        <title>Online session week 01</title>
    </head>
        <script>
            var myObject = 
            {
                firstName: "Joe",
                lastName: "Howard",
                nickName: "Curly",
                weight: 220
            }
            console.log(myObject);
            console.log(myObject["firstName"]);
            
            // convert person object into json string
            var myObjectAsJsonString = JSON.stringify(myObject);
            console.log(myObjectAsJsonString);
            console.log(myObjectAsJsonString["firstName"]); // undefined

            // parse json string into person object
            var myJsonToObject = JSON.parse(myObjectAsJsonString);
            console.log(myJsonToObject["firstName"]);

            // http://gd2.mlb.com/components/game/mlb

            // AJAX Synchronous XMLHttpRequest to get JSON
            function getJSONSync(url) {
                var resp;
                var xmlHttp;
                resp = "";
                xmlHttp = new XMLHttpRequest();
                if(xmlHttp !== null) {
                    xmlHttp.open("GET", url, false);
                    xmlHttp.send(null);
                    resp = xmlHttp.responseText;
                }
                return resp;
            }

            function getBaseballDataSync() {
                var year = "2017";
                var month = "07";
                var day = "08";
                var tempUrl = "http://gd2.mlb.com/components/game/mlb/year_" + year + "/month_" + month + "/day_" + day + "/master_scoreboard.json";
                // clear div innerHtml
                document.getElementById("divGameInfo").innerHTML = "";
                // Get JSON data from url
                var baseballJSON = getJSONSync(tempUrl);
                document.getElementById("divGameInfo").innerHTML = baseballJSON;
                // parse data into object
                var jsonObject = JSON.parse(baseballJSON);

                var test1 = jsonObject.data.games.game[0];
                var test2 = jsonObject["data"]["games"].game[0];
                
                console.log(jsonObject.data.games.game[0]);
            }

            function getJSONAsync(url, callback) {
                var request = new XMLHttpRequest();
                request.onreadystatechange = function() {
                    if(request.readyState === 4 && request.status === 200){
                        callback(request.responseText)
                    }
                };
                request.open("GET", url);
                request.send();
            }

            function myCallBack(baseballJSON) {
                document.getElementById("divGameInfo").innerHTML = baseballJSON;
                // parse data into Object
                var jsonObject = JSON.parse(baseballJSON);
            }

            function getBaseballDataAsync() {
                var year = "2017";
                var month = "07";
                var day = "08";
                var tempUrl = "http://gd2.mlb.com/components/game/mlb/year_"
                 + year + "/month_" + month + "/day_" + day + "/master_scoreboard.json";
                document.getElementById("divGameInfo").innerHTML = "";
                getJSONAsync(tempUrl, myCallBack)
            }

        </script>
    <body>
        <h3>Online session week 01</h3>
        <input type="button" onclick="getBaseballDataSync();" id="btnGetSync" value="Get Baseball Data Sync">
        <input type="button" onclick="getBaseballDataAsync();" id="btnGetASync" value="Get Baseball Data ASync">
        <div id="divGameInfo"></div>
    </body>
</html>